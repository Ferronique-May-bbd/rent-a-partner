<!DOCTYPE html>
<html id='top' lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' href='css/style.css'>
    <link rel='stylesheet' href='css/browse-partners.css'>
    <link rel='stylesheet' href='css/login.css'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Inter'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Merriweather'>
    <script src='https://kit.fontawesome.com/fe4b986857.js' crossorigin='anonymous'></script>
    <script src='components/headerLoggedIn.js' type='text/javascript' defer></script>
    <script src='components/profileCard.js' type='text/javascript' defer></script>

    <title>Browse partners</title>
</head>
<body>
    <header-logged-in userDisplayImage='images/hero-image-left.png' userId='1'></header-logged-in>
    
    <main id='browse-partners'>
        <article>
            <section class='fliter-search'>
                <a href="#pop-up-search"><i class="fa-solid fa-magnifying-glass"></i></a>
            </section>

            <section class='card-container'>
                <profile-card
                partnerId='1'
                partnerName='Name'
                partnerAge='26'
                partnerPronouns='She/Her'
                partnerDistance='16'
                partnerBio='Lörem ipsum remynde mynt i premåra krojen. Klustersmitta viskap i deras i emmodern. Monoskapet vavis. Rägisk uberisering om jekrorade multifigisk. Prelån pretoliga poras. '
                partnerDisplayImage='images/profile-test.jpg'>
                </profile-card>
                
            </section>
            
        </article>

        <article id='pop-up-search' class="overlay">
            <section class='popup'>
                <h2>Not finding what you looking for? Filter Now!</h2>
                <a class="close" href="#">&times;</a>
                <section class="content event-type-date">
                    <form method="get" for>
                        <label class="lbl">Gender preference</label>
                        <select id="gender-preference-filter" class="control control-select">
                            <option value="female" selected>Female</option>
                            <option value="male">Male</option>
                            <option value="other">Other</option>
                        </select>
                        <label class="lbl">Race preference</label>
                        <select id="race-preference-filter" class="control control-select">
                            <option value="black" >Black</option>
                            <option value="white">White</option>
                            <option value="coloured">Coloured</option>
                            <option value="indian">Indian/Asian</option>
                        </select>
                        <label class="lbl">Age preference</label>
                        <section class="wrapper">
                            <section class="values">
                                <span id="age-range1">
                                    18
                                </span>
                                <span> &dash; </span>
                                <span id="age-range2">
                                    100
                                </span>
                            </section>
                            <section class="container">
                                <section class="slider-track"></section>
                                <input type="range" min="0" max="300" value="18" id="age-slide-1" oninput="slideOne()">
                                <input type="range" min="0" max="300" value="35" id="age-slide-2" oninput="slideTwo()">
                            </section>
                        </section>
                        <label class="lbl">Height preference</label>
                        <!-- <section class="slidecontainer">
                            <input class="singles" type="range" min="50" max="200" value="50" class="slider" id="Height">
                            <p>Height value: <span id="heightvalue"></span> cm</p>
                        </section> -->
                        <section class="wrapper">
                            <section class="values">
                                <span id="height-range1">
                                    50
                                </span>
                                <span> &dash; </span>
                                <span id="height-range2">
                                    300
                                </span>
                            </section>
                            <section class="container">
                                <section class="slider-track"></section>
                                <input type="range" min="0" max="300" value="50" id="height-slide-1" oninput="hslideOne()">
                                <input type="range" min="0" max="300" value="70" id="height-slide-2" oninput="hslideTwo()">
                            </section>
                        </section>
                        <label class="lbl event-date">Event date<i class="required"></i></label>
                        <input class="control" type="text">
    
                        <button type="submit" class="btn btn-peach">Let's go find them!</button>
                    </form>
    
                </section>
            </section>
        </article>

    </main>
    <script type='module' src='js/index.js'></script>
        <script>
                window.onload = function(){
            slideOne();
            slideTwo();
            hslideOne();
            hslideTwo();
            }

            let sliderOne = document.getElementById("age-slide-1");
            let sliderTwo = document.getElementById("age-slide-2");
            let displayValOne = document.getElementById("age-range1");
            let displayValTwo = document.getElementById("age-range2");
            let minGap = 0;
            let sliderTrack = document.querySelector(".slider-track");
            let sliderMaxValue = document.getElementById("age-slide-1").max;

            function slideOne(){
                if(parseInt(sliderTwo.value) - parseInt(sliderOne.value) <= minGap){
                    sliderOne.value = parseInt(sliderTwo.value) - minGap;
                }
                displayValOne.textContent = sliderOne.value;
                fillColor();
            }
            function slideTwo(){
                if(parseInt(sliderTwo.value) - parseInt(sliderOne.value) <= minGap){
                    sliderTwo.value = parseInt(sliderOne.value) + minGap;
                }
                displayValTwo.textContent = sliderTwo.value;
                fillColor();
            }
            function fillColor(){
                percent1 = (sliderOne.value / sliderMaxValue) * 100;
                percent2 = (sliderTwo.value / sliderMaxValue) * 100;
                sliderTrack.style.background = `linear-gradient(to right, #dadae5 ${percent1}% , #3264fe ${percent1}% , #3264fe ${percent2}%, #dadae5 ${percent2}%)`;
            }



            let hsliderOne = document.getElementById("height-slide-1");
            let hsliderTwo = document.getElementById("height-slide-2");
            let hdisplayValOne = document.getElementById("height-range1");
            let hdisplayValTwo = document.getElementById("height-range2");
            let hminGap = 0;
            let hsliderTrack = document.querySelector(".slider-track");
            let hsliderMaxValue = document.getElementById("height-slide-1").max;

            function hslideOne(){
                if(parseInt(hsliderTwo.value) - parseInt(hsliderOne.value) <= hminGap){
                    hsliderOne.value = parseInt(hsliderTwo.value) - hminGap;
                }
                hdisplayValOne.textContent = hsliderOne.value;
                fillColor();
            }
            function hslideTwo(){
                if(parseInt(hsliderTwo.value) - parseInt(hsliderOne.value) <= minGap){
                    hsliderTwo.value = parseInt(hsliderOne.value) + minGap;
                }
                hdisplayValTwo.textContent = hsliderTwo.value;
                fillColor();
            }
            function fillColor(){
                percent1 = (sliderOne.value / sliderMaxValue) * 100;
                percent2 = (sliderTwo.value / sliderMaxValue) * 100;
                hsliderTrack.style.background = `linear-gradient(to right, #dadae5 ${percent1}% , #3264fe ${percent1}% , #3264fe ${percent2}%, #dadae5 ${percent2}%)`;
            }
            </script>

            <script>
            var height_slider = document.getElementById("Height");
            var height_output = document.getElementById("heightvalue");
            height_output.innerHTML = height_slider.value;
            
            height_slider.oninput = function() {
            height_output.innerHTML = this.value;
            }
        </script>
</body>
</html>